{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\patry\\\\Desktop\\\\proj\\\\src\\\\views\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect, useRef } from \"react\";\nimport { useAuthContext } from \"../contexts/AuthContext\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login() {\n  _s();\n\n  var _location$state, _location$state$from;\n\n  const {\n    login,\n    errorMessage\n  } = useAuthContext();\n  const location = useLocation();\n  const navigate = useNavigate();\n  const userRef = useRef();\n  const from = ((_location$state = location.state) === null || _location$state === void 0 ? void 0 : (_location$state$from = _location$state.from) === null || _location$state$from === void 0 ? void 0 : _location$state$from.pathname) || \"/\";\n  const [user, setUser] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  useEffect(function () {\n    return userRef.current.focus();\n  }, []);\n\n  function handleInputs(e) {\n    setUser({ ...user,\n      [e.target.name]: e.target.value\n    });\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    login(user);\n    setUser({\n      email: \"\",\n      password: \"\"\n    });\n    navigate(from, {\n      replace: true\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      className: errorMessage ? \"errmsg\" : \"offscreen\",\n      \"aria-live\": \"assertive\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"mt-5\",\n      children: \"Sign In\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"form\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"mt-3\",\n        htmlFor: \"email\",\n        children: \"Username\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"form-control w-50 m-auto mt-3 mb-5\",\n        type: \"text\",\n        id: \"email\",\n        name: \"email\",\n        ref: userRef,\n        autoComplete: \"off\",\n        onChange: handleInputs,\n        value: user.email,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"password\",\n        children: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"form-control w-50 m-auto mt-3 mb-5\",\n        type: \"password\",\n        id: \"password\",\n        name: \"password\",\n        onChange: handleInputs,\n        value: user.password,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary mt-3 mb-5 w-25\",\n        children: \"Sign In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), errorMessage && /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"alert alert-danger w-75 m-auto mb-5\",\n      children: [\" \", errorMessage, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Login, \"k7sGMxiL9ZHpAd3efDN9Jxel/Ac=\", false, function () {\n  return [useAuthContext, useLocation, useNavigate];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/patry/Desktop/proj/src/views/Login.js"],"names":["useState","useEffect","useRef","useAuthContext","useNavigate","useLocation","Login","login","errorMessage","location","navigate","userRef","from","state","pathname","user","setUser","email","password","current","focus","handleInputs","e","target","name","value","handleSubmit","preventDefault","replace"],"mappings":"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","sourcesContent":["import { useState, useEffect, useRef } from \"react\";\r\nimport { useAuthContext } from \"../contexts/AuthContext\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\n\r\nfunction Login() {\r\n  const { login, errorMessage } = useAuthContext();\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const userRef = useRef();\r\n\r\n  const from = location.state?.from?.pathname || \"/\";\r\n\r\n  const [user, setUser] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  useEffect(function () {\r\n    return userRef.current.focus();\r\n  }, []);\r\n\r\n  function handleInputs(e) {\r\n    setUser({ ...user, [e.target.name]: e.target.value });\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    login(user);\r\n    setUser({ email: \"\", password: \"\" });\r\n    navigate(from, { replace: true });\r\n  }\r\n\r\n  return (\r\n    <section>\r\n      <p\r\n        className={errorMessage ? \"errmsg\" : \"offscreen\"}\r\n        aria-live=\"assertive\"\r\n      ></p>\r\n      <h1 className=\"mt-5\">Sign In</h1>\r\n      <form onSubmit={handleSubmit} className=\"form\">\r\n        <label className=\"mt-3\" htmlFor=\"email\">\r\n          Username\r\n        </label>\r\n        <input\r\n          className=\"form-control w-50 m-auto mt-3 mb-5\"\r\n          type=\"text\"\r\n          id=\"email\"\r\n          name=\"email\"\r\n          ref={userRef}\r\n          autoComplete=\"off\"\r\n          onChange={handleInputs}\r\n          value={user.email}\r\n          required\r\n        />\r\n        <label htmlFor=\"password\">Password</label>\r\n        <input\r\n          className=\"form-control w-50 m-auto mt-3 mb-5\"\r\n          type=\"password\"\r\n          id=\"password\"\r\n          name=\"password\"\r\n          onChange={handleInputs}\r\n          value={user.password}\r\n          required\r\n        />\r\n        <button className=\"btn btn-primary mt-3 mb-5 w-25\">Sign In</button>\r\n      </form>\r\n      {errorMessage && (\r\n        <h2 className=\"alert alert-danger w-75 m-auto mb-5\">\r\n          {\" \"}\r\n          {errorMessage}{\" \"}\r\n        </h2>\r\n      )}\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}